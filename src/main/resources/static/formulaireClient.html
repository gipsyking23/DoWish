<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<title>Formulaire Client</title>


<link href="css/bootstrap.css" rel="stylesheet">
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="row">

				<nav class="navbar navbar-default">
					<div class="container-fluid">
						<div class="row">
							<div class="navbar-header">
								<a class="navbar-brand" href="/"> <img alt="Brand"
								src="image/capture.png" width="100px"></a>
							</div>
							<div class="row">
								<ul class="pager">
									<li><a href="formulaireClient.html">S'inscrire</a></li>
									<li><a type="button" data-toggle="modal"
										data-target="#myModal">Se connecter</a></li>
								</ul>
							</div>

						</div>
					</div>
				</nav>

				<div class="modal fade" id="myModal" tabindex="-1" role="dialog"
					aria-labelledby="myModalLabel">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
								<h4 id="myModalLabel">S'Autentifier</h4>
							</div>
							<div class="modal-body">
								<form class="form-horizontal">
									<div class="form-group">
										<label for="email" class="col-sm-2 control-label">Pseudo</label>
										<div class="col-sm-6">
											<input type="email" class="form-control" id="pseudo"
												placeholder="ex: Jacky34 ">
										</div>
									</div>
									<div class="form-group">
										<label for="nom" class="col-sm-2 control-label">Mot de
											passe</label>
										<div class="col-sm-6">
											<input type="text" class="form-control" id="password"
												placeholder="ex: 123456">
										</div>
									</div>



								</form>
							</div>

							<div class="modal-footer">
								<button type="button" class="btn btn-default"
									data-dismiss="modal">fermer</button>
								<button type="submit" value="submit" id="bouton_auth"
									class="btn btn-primary">ENREGISTER</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>


	</div>
	<div class="row">
		<div class="col-md-6 col-md-offset-5">
			<h1>INSCRIPTION</h1>
		</div>
		
		<form class="form-horizontal col-md-offset-4" id="formulaire">
			<div class="form-group">
				<label for="email" class="col-sm-2 control-label">Email</label>
				<div class="col-sm-3">
					<input type="email" class="form-control" id="email"
						placeholder="ex: simplon.co@dowish.fr">
				</div>
			</div>
			<div class="form-group">
				<label for="nom" class="col-sm-2 control-label">Nom</label>
				<div class="col-sm-3">
					<input type="text" class="form-control" id="nom"
						placeholder="ex: Wayne">
				</div>
			</div>
			<div class="form-group">
				<label for="prénom" class="col-sm-2 control-label">Prénom</label>
				<div class="col-sm-3">
					<input type="text" class="form-control" id="prénom"
						placeholder="ex: John">
				</div>
			</div>
			<div class="form-group">
				<label for="telephone" class="col-sm-2 control-label">Téléphone</label>
				<div class="col-sm-3">
					<input pattern="0[1-9][0-9]{8}" type="text" class="form-control"
						id="telephone" placeholder="ex: 0611121314">
				</div>
			</div>
			

			<label for="password" class="col-sm-2 control-label"> </label>
			<div class="form-group">
				<button type="submit" value="submit" id="bouton_post"
					class="btn btn-primary">ENREGISTER</button>
			</div>

		</form>
	</div>

	<div id="insertion" hidden="true">
			<div class="row">
				<div class="col-md-6 col-md-offset-3">
					<img src="success.jpg" alt="maison" width="100%" height="400px"
						class="img-rounded">
				</div>
			</div>
			<div class="row">
				<div class="col-md-6 col-md-offset-3">
					<div class="alert alert-success" role="alert">
						<h1 class="text-center">VOUS AVEZ BIEN ETE AJOUTE !</h1>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-6 col-md-offset-3">

					<form class="form-horizontal">
						<div class="form-group">
							<label class="col-sm-2 control-label">Nom</label>
							<div class="col-sm-10">
								<p id="rnom" class="form-control-static" ></p>
							</div>
						</div>

						<div class="form-group">
							<label class="col-sm-2 control-label">Prenom</label>
							<div class="col-sm-10">
								<p id="rprenom" class="form-control-static" ></p>
							</div>
							
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">email</label>
							<div class="col-sm-10">
								<p id="remail" class="form-control-static" ></p>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">tel</label>
							<div class="col-sm-10">
								<p id="rtel" class="form-control-static"  ></p>
							</div>
						</div>
					</form>
					<div class="row">
						<div class="col-md-6 col-md-offset-3">
							<a type="button" class="btn btn-primary btn-lg btn-block"
								 data-toggle="modal"
										data-target="#myModal">Connectez-Vous</a>
						</div>

					</div>
				</div>
			</div>
		</div>


	<script src="jquery.js"></script>
	<script src="bootstrap.js"></script>
	<script type="application/javascript">
		
		
		
		
		
    $(document).ready(function () {
       $('#bouton_post').on("click",function (e) {
           e.preventDefault();
           var nom, prenom, email,telephone;
           nom = $('#nom').val();
           prenom = $('#prénom').val();
           email = $('#email').val();
           telephone = $('#telephone').val();
           
           
           if($.trim(nom) === ""){
               alert("le champ nom ne peut pas etre vide");
           }
           else if($.trim(prenom) === ""){
               alert("le champ prenom ne peut pas etre vide");
           }
               else if($.trim(email) === ""){
                   alert("le champ email ne peut pas etre vide");
               }

                   else if($.trim(telephone) === ""){
                       alert("le champ prenom ne peut pas etre vide");
               
           }
                   else {
                	   $.ajax({
                	
                		
                           type:"POST",
                          
                           url:"/client",
                           data:{nom:nom,prenom:prenom,email:email,tel:telephone},
                         /*  
                           error: function(xhr, status, error) {
                        	   var err = eval("(" + xhr.responseText + ")");
                        	   alert(err.Message);
                        	 },
                        	  */
                        	 
                        	 
                        	 
                   success: function (response) {
                       if (confirm("Validation")){
                    	   $("#formulaire").fadeOut(500);
                    	   $("#insertion").removeAttr('hidden');
                       
                    	  
                    	   var nomr, prenomr, emailr, telr; 
                    	   
                    	   nomr=response.nom
                    	   prenomr=response.prenom
                    	   emailr=response.email
                    	   telr=response.tel
                    	   
                    	   $("#rnom").html(nomr);
                    	   $("#rprenom").html(prenomr);
                    	   $("#remail").html(emailr);
                    	   $("#rtel").html(telr);
                    	   
                 
                    	   
                    	  /*  var trHTML = '';
           		        $.each(response, function (i, item) {
           		            trHTML += '<tr><td>' + item.nom + '</td><td>' + item.prenom + '</td><td>' + item.email +'</td><td>' + item.tel + '</td></tr>';
           		        });
           		        $('#avant').prepend(trHTML); */
                    	   
                       }
                   }
               });
           }
       });
    });

	
	
	
	
	</script>
</body>
</html>